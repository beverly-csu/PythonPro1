""" Программа использует flask и запускает веб-сервер. 
При запросе к этому серверу он возвращает содержимое файла index.html
В этой версии предполагается, что в файле может быть шаблон. """
from flask import Flask, render_template
import os

#список участников конкурса 
p_list = [('Виктор','Москва'), ('Владимир','Москва'), ('Юлиана','Казань'), ('Николай','Питер'),('Иван','Москва'),('Пётр','Самара')]

def index():
    """ функция обрабатывает шаблон index.html и возвращает получившийся документ"""
    return render_template('index.html', p_list = p_list , city= "Москва")

folder = os.getcwd() # запомнили текущую рабочую папку
# Создаём объект веб-приложения:
app = Flask(__name__, template_folder=folder, static_folder=folder) # первый параметр - имя модуля
                            # параметр с именем static_folder определяет имя папки, содержащей статичные файлы
                            # параметр с именем template_folder определяет имя папки, содержащей шаблоны

# создаём правило для URL '/': 
app.add_url_rule('/', 'index', index)

if __name__ == "__main__":
    # Запускаем веб-сервер:
    app.run()
